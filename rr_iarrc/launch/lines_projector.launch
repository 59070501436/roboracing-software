<launch>
    <arg name="use_camera_manager" default="false"/>

    <arg if="$(arg use_camera_manager)"     name="nodelet_command"  value="load"/>
    <arg if="$(arg use_camera_manager)"     name="manager_name"     value="camera_nodelet_manager"/>
    <arg unless="$(arg use_camera_manager)" name="nodelet_command"  value="standalone"/>
    <arg unless="$(arg use_camera_manager)" name="manager_name"     value=""/>

    <node pkg="nodelet" type="nodelet" name="line_projector" output="screen"
          args="$(arg nodelet_command) rr_platform/pointcloud_projector $(arg manager_name)">
        <param name="camera_info_topic" value="/camera/camera_info"/>
        <param name="camera_tf_frame" value="camera"/>
        <param name="image_topic_in" value="/lines_detection_img"/>
        <param name="pointcloud_topic_out" value="/lines_projected"/>
        <param name="load_timeout" value="300"/>
    </node>
</launch>