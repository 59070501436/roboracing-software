<launch>
  <node name="finish_line_watcher" pkg="rr_iarrc" type="finish_line_watcher" output="screen">
      <param name="img_topic" value="/finish_line_detection_img" />

      <!--The larger the height the lower it will be on the screen (Image Height = 1280)-->
      <param name="blockSky_height" type="int" value="560" />
      <param name="blockWheels_height" type="int" value="750" />
      <param name="blockBumper_height" type="int" value="720" />

      <!--If set to true, the detector will start publishing once the finish line is first detected, if false, publishes when we cross the finish line-->
      <param name="publish_when_detected" type="boolean" value="false" />

      <!--The detector uses contour detection and will only consider relatively flat lines (slope < slope cutoff) and will only trigger when relatively long lines are detected (length > length_cutoff) -->
      <param name="slope_cutoff" type="double" value="0.2" />
      <param name="length_cutoff" type="double" value="500.0" />

      <!-- Had to add a short cooldown on detections to make sure flickering didn't accidentally cause multiple detections to go off ->>
      <param name="cooldown" type="int" value="7" />
  </node>

  <node pkg="nodelet" type="nodelet" name="color_detector_finish_line" output="screen"
        args="standalone rr_iarrc/color_detector">
      <param name="load_file" value= "$(find rr_iarrc)/saved_hsv/finish_line_magenta.txt"/>
      <param name="camera_image" value="/camera_center/image_color_rect"/>
      <param name="detection_topic" value="/finish_line_detection_img"/>
      <param name="hsv_values_topic" value="/finish_line_hsv"/>
  </node>

  <node name="hsv_tuner" pkg="rr_iarrc" type="hsv_tuner" output="screen">
      <param name="load_file" value= "$(find rr_iarrc)/saved_hsv/finish_line_magenta.txt"/>
      <param name="values_topic" value="/finish_line_hsv"/>
  </node>
</launch>
